# 일반 함수와 화살표 함수의 차이

배경

선배 개발자분께서 자바스크립트의 화살표 함수와 일반 함수의 차이에 대해 설명해 주셨다. 기존에는 this 바인딩의 차이를 어렴풋이 알고 있었고, 새롭게 알게 된 내용도 많아 이번 기회에 제대로 정리해 보고자 한다.

## 문법

일반 함수와 화살표함수는 문법에서부터 차이가 있다.

일반 함수

```js
const func = function() {
    ...
}
```

화살표함수

```js
const func = () => {
    ...
}
```

화살표 함수의 경우, 일반함수와는 다른 또 다른 문법적인 특징이 있다.
먼저, 소괄호가 생략이 가능하다. 만약 함수의 인자가 하나라면, 소괄호를 생략할 수 있다.

```js
const func = args => {
    ...
}
```

또한, 중괄호도 생략이 가능하다. 단, 이 경우 중괄호 내부의 코드가 단일 표현식(single expression)이어야 하며, 해당 코드의 결과는 반환(return)이 된다. 즉, 중괄호를 생략하면 return 키워드도 생략이 가능하다.

- 중괄호, return 생략 가능

```js
const func = (args) => args + 1;
```

[참고1](https://codingeverybody.kr/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%ED%99%94%EC%82%B4%ED%91%9C-%ED%95%A8%EC%88%98%EC%9D%98-%EC%9D%B4%ED%95%B4%EC%99%80-%EC%82%AC%EC%9A%A9%EB%B2%95/)

## this 바인딩

this 바인딩이 다른 이유?

## 선언

일반 함수는 함수 표현식 뿐만 아니라 함수 선언문으로도 선언이 가능한 반면,
화살표 함수는 익명 함수로만 표현이 가능해 함수 표현식으로만 선언이 가능

### 일반 함수

- 함수 선언문
  ```js
  function func() { ... }
  ```
- 함수 표현식
  ```js
  const func = function() { ... }
  ```

### 화살표 함수

- 함수 표현식
  ```js
  const func = () => { ... }
  ```

## constructor

일반 함수는 생성자로도 사용이 가능한 반면, 화살표 함수는 생성자로 사용할 수 없음
따라서 화살표 함수는 인스턴트를 생성할 수 없음

### 내부 구조

#### 일반 함수

- 일반 함수는 프로토타입 속성이 존재하고, 이 내부에 constructor 속성이 존재
  ![normal function](https://raw.githubusercontent.com/itmakesmesoft/blog-contents/main/images/normal_function_structure.png)

#### 화살표 함수

- 화살표 함수는 프로토타입 속성이 없음
  ![arrow function](https://raw.githubusercontent.com/itmakesmesoft/blog-contents/main/images/arrow_function_structure.png)

## 스코프

일반 함수는 동적 스코프(Dynamic Scope)를 가짐
화살표 함수는 렉시컬 스코프(Lexical Scope)를 가짐

## arguments

일반함수는 자신만의 arguments 객체를 가진다.
함수에 전달된 인수(arguments)를 배열 형태로 갖고 있고, 함수 내에서 arguments를 사용할 수 있다.

```js
const func = function () {
  console.log(arguments);
};

func(1, 2, 3, 4, 5); // Arguments(5) [1, 2, 3, 4, 5, callee: ƒ, Symbol(Symbol.iterator): ƒ]
```

반면,화살표 함수는 자신만의 arguments 객체를 가지지 않는다. arguments라는 속성을 가지지만, 이 속성은 상위 스코프의 arguments 객체를 참조한다. 만약 상위 스코프가 global이라면 arguments는 정의되지 않는다.
즉, 화살표 함수 내에서 arguments를 사용하려면, 반드시 상위 스코프에서 arguments가 정의되어야 한다.

```js
const func = () => {
  console.log(arguments);
};

func(1, 2, 3, 4, 5); // Uncaught ReferenceError: arguments is not defined
```
